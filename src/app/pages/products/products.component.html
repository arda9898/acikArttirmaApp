<div class="row">

  <div class="timer">
    <h4> Count down timer </h4>
    <span id="days"> {{daysToDday}} </span>Day(s)
    <span id="hours"> {{hoursToDday}} </span>Hrs
    <span id="minutes"> {{minutesToDday}} </span>Min
    <span id="seconds"> {{secondsToDday}} </span>S
  </div>

  <div class="card col" style="width: 18rem;" *ngFor="let item of items | async">
    <div class="card-body">
      <h5 class="card-title">{{ item.productName }}</h5>
      <p class="card-text"> customId : {{ item.customIdName }}</p>
      <p class="card-text"> Price : {{ item.price }}</p>
      <p class="card-text"> Bid : {{ item.bid_amount }}</p>
      <p class="card-text"> Bider Email : {{ item.bider_email}}</p>
      <p> {{item.endDate}}</p>

      <div class="timer">
        <h4> Count down timer </h4>
        <span id="days"> {{daysToDday}} </span>Day(s)
        <span id="hours"> {{hoursToDday}} </span>Hrs
        <span id="minutes"> {{minutesToDday}} </span>Min
        <span id="seconds"> {{secondsToDday}} </span>S
      </div>
      <div>
        <form (ngSubmit)="clickEvent(item,bid)" updateOn='change'>
          <div>
            <div class="input-field col s6">
              <input type="text" placeholder="Enter your e-mail" [(ngModel)]="item.bider_email" name="bider_email">
            </div>
            <div class="input-field col s6">
              <input type="text" placeholder="Make a Bid" [(ngModel)]="bid" name="bid_amount">
            </div>
          </div>
          <div class="row">
            <a class="btn btn-primary" (click)="clickEvent(item,bid)">Buy Now</a>
          </div>

        </form>
      </div>
    </div>
  </div>

</div>
<script>
  // Set the date we're counting down to
  var countDownDate = new Date("Jan 5, 2022 15:37:25").getTime();

  // Update the count down every 1 second
  var x = setInterval(function () {

    // Get today's date and time
    var now = new Date().getTime();

    // Find the distance between now and the count down date
    var distance = countDownDate - now;

    // Time calculations for days, hours, minutes and seconds
    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

    // Display the result in the element with id="demo"
    document.getElementById("demo").innerHTML = days + "d " + hours + "h "
      + minutes + "m " + seconds + "s ";

    // If the count down is finished, write some text
    if (distance < 0) {
      clearInterval(x);
      document.getElementById("demo").innerHTML = "EXPIRED";
    }
  }, 1000);
</script>

<router-outlet></router-outlet>
